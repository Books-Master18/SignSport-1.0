from flask import Flask, request, jsonify, render_template
from transformers import pipeline
import os

os.environ["TOKENIZERS_PARALLELISM"] = "false"

print("üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ —ç–º–æ—Ü–∏–π... (1‚Äì2 –º–∏–Ω—É—Ç—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)")
classifier = pipeline(
    "text-classification",
    model="j-hartmann/emotion-english-distilroberta-base",
    return_all_scores=False
)

app = Flask(__name__)

SPORT_RECOMMENDATIONS = {
    "anger": {
        "sport": "–ë–æ–∫—Å, —Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ, –∫–∞—Ä–∞—Ç–µ",
        "reason": (
            "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –æ—Ç—Ä–∞–∂–∞–µ—Ç **–≤—ã—Å–æ–∫—É—é —ç–∫—Å–ø—Ä–µ—Å—Å–∏—é, –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–æ—Å—Ç—å** ‚Äî "
            "—á–∞—Å—Ç–æ –∑–∞ –≥–Ω–µ–≤–æ–º —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç—Ä–µ–≤–æ–≥–∞ –∏–ª–∏ –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (—Å–æ—á–µ—Ç–∞–Ω–∏–µ '–≥–Ω–µ–≤ + —Å—Ç—Ä–∞—Ö'). "
            "–≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç **–Ω–∞—Ä—É—à–µ–Ω–Ω–æ–π –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–µ** (—Ä–µ–∑–∫–∏–µ –∏–∑–ª–æ–º—ã, –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã–π –Ω–∞–∂–∏–º) "
            "–∏ –≤–æ–∑–º–æ–∂–Ω–æ–π –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ –º–∞–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–µ (—Ö–∞–æ—Ç–∏—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞). "
            "–í–∞—à–∞ –ª–∏—á–Ω–æ—Å—Ç—å –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∞ **–¥–≤–∏–∂–µ–Ω–∏–µ–º**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. "
            "–ë–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ —Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç —ç–Ω–µ—Ä–≥–∏—é ‚Äî –æ–Ω–∏ —É—á–∞—Ç **–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ –≤ —Ö–∞–æ—Å–µ**, "
            "–ø—Ä–µ–≤—Ä–∞—â–∞—è –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å –≤ –æ—Å–æ–∑–Ω–∞–Ω–Ω—É—é —Å–∏–ª—É –∏ —Ä–∞–∑–≤–∏–≤–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∞–º, –≥–¥–µ –æ–Ω —Å–µ–π—á–∞—Å —É—è–∑–≤–∏–º."
        )
    },
    "fear": {
        "sport": "–ô–æ–≥–∞, –ø–ª–∞–≤–∞–Ω–∏–µ, —Ç–∞–π—Ü–∑–∏",
        "reason": (
            "–ê–Ω–∞–ª–∏–∑ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **–≥–ª—É–±–∏–Ω–Ω–æ–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏ –≤–Ω–µ—à–Ω–µ —É—Ä–∞–≤–Ω–æ–≤–µ—à–µ–Ω–Ω–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏** ‚Äî "
            "—á–∞—Å—Ç–æ —ç—Ç–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ '—Å—Ç—Ä–∞—Ö + –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å' –∏–ª–∏ '—Å—Ç—Ä–∞—Ö + –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∫ –º–∞—Å–∫–∞'. "
            "–ú–∞–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (—á—ë—Ç–∫–∏–µ –ø–æ–ª—è, —Ä–æ–≤–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏), –Ω–æ –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∞: "
            "–¥—Ä–æ–∂–∞–Ω–∏–µ, —Å–ª–∞–±—ã–π –Ω–∞–∂–∏–º, —Å–∂–∞—Ç–æ—Å—Ç—å –±—É–∫–≤. –≠—Ç–æ –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å **CNT (–∫–æ–Ω—Ç—Ä–∞–∫—Ü–∏–∏)** ‚Äî "
            "—Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–∂–∞—Ç–∏—è. "
            "–ô–æ–≥–∞ –∏ –ø–ª–∞–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ **RLS (—Ä–µ–ª–∏–∑/—Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ)**: "
            "–æ–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –¥—ã—Ö–∞–Ω–∏–µ, —É—á–∞—Ç –¥–æ–≤–µ—Ä—è—Ç—å —Ç–µ–ª—É –∏ –º—è–≥–∫–æ —Å–Ω–∏–∂–∞—é—Ç —Ç–æ–Ω—É—Å –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. "
            "–≠—Ç–æ –Ω–µ '–±–æ—Ä—å–±–∞ —Å–æ —Å—Ç—Ä–∞—Ö–æ–º', –∞ **–≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—â—É—â–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–∑–Ω—É—Ç—Ä–∏**."
        )
    },
    "joy": {
        "sport": "–§—É—Ç–±–æ–ª, —Ç–∞–Ω—Ü—ã, –≤–æ–ª–µ–π–±–æ–ª",
        "reason": (
            "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å ‚Äî —ç—Ç–æ **—ç–Ω–µ—Ä–≥–∏—è, –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å**, "
            "–∏–Ω–æ–≥–¥–∞ —Å –ø—Ä–∏–º–µ—Å—å—é –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç–∏ ('—Ä–∞–¥–æ—Å—Ç—å + –≥–Ω–µ–≤') –∏–ª–∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–π –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ ('—Ä–∞–¥–æ—Å—Ç—å + —É–¥–∏–≤–ª–µ–Ω–∏–µ'). "
            "–ú–∞–∫—Ä–æ- –∏ –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã: –ø–ª–∞–≤–Ω—ã–µ –ª–∏–Ω–∏–∏, –Ω–∞–∫–ª–æ–Ω –≤–ø—Ä–∞–≤–æ, —Ä–∏—Ç–º–∏—á–Ω–æ—Å—Ç—å ‚Äî "
            "–ø—Ä–∏–∑–Ω–∞–∫ –∑–¥–æ—Ä–æ–≤–æ–π —ç–∫—Å–ø—Ä–µ—Å—Å–∏–∏ –∏ –≤—ã—Å–æ–∫–æ–π –≤–∏—Ç–∞–ª—å–Ω–æ—Å—Ç–∏. "
            "–í—ã ‚Äî —á–µ–ª–æ–≤–µ–∫, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ **–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∂–∏–∑–Ω–∏**. "
            "–ö–æ–º–∞–Ω–¥–Ω—ã–µ –≤–∏–¥—ã —Å–ø–æ—Ä—Ç–∞ –∏ —Ç–∞–Ω—Ü—ã —É—Å–∏–ª–∏–≤–∞—é—Ç –≤–∞—à—É –ø—Ä–∏—Ä–æ–¥–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, "
            "—Ä–∞–∑–≤–∏–≤–∞—è –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∞ **—Ä–∞–¥–æ—Å—Ç—å –∫–∞–∫ —Ñ–æ—Ä–º—É —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –±—ã—Ç–∏—è –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è**."
        )
    },
    "sadness": {
        "sport": "–ë–µ–≥, –≤–µ–ª–æ—Å–∏–ø–æ—Ä—Ç, —Ö–æ–¥—å–±–∞ –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ",
        "reason": (
            "–í–∞—à —Ç–µ–∫—Å—Ç –æ—Ç—Ä–∞–∂–∞–µ—Ç **—Å–Ω–∏–∂–µ–Ω–Ω—ã–π —Ç–æ–Ω—É—Å, —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–æ—Å—Ç—å –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —É—Å—Ç–∞–ª–æ—Å—Ç—å**, "
            "—á–∞—Å—Ç–æ –≤ —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å–æ —Å–∫—Ä—ã—Ç–æ–π —Ç—Ä–µ–≤–æ–≥–æ–π ('–≥—Ä—É—Å—Ç—å + —Å—Ç—Ä–∞—Ö') –∏–ª–∏ –∞–ø–∞—Ç–∏–µ–π ('–≥—Ä—É—Å—Ç—å + –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å'). "
            "–í –ø–æ—á–µ—Ä–∫–µ —ç—Ç–æ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –æ—Å–ª–∞–±–ª–µ–Ω–Ω–æ–º –Ω–∞–∂–∏–º–µ, –Ω–∏–∑–∫–æ–º –ø–æ–¥—ä—ë–º–µ –±—É–∫–≤, —Å–∂–∞—Ç–æ—Å—Ç–∏ ‚Äî "
            "–ø—Ä–∏–∑–Ω–∞–∫–∞—Ö **–Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ –∏ –æ–±—Ä–∞—â—ë–Ω–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä—å**. "
            "–ú–∞–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–π (–≤—ã ¬´–¥–µ—Ä–∂–∏—Ç–µ—Å—å¬ª –≤–Ω–µ—à–Ω–µ), "
            "–Ω–æ –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∏—Å—Ç–æ—â–µ–Ω–∏–∏. "
            "–†–∏—Ç–º–∏—á–Ω—ã–µ –∫–∞—Ä–¥–∏–æ–Ω–∞–≥—Ä—É–∑–∫–∏ ‚Äî –±–µ–≥, –≤–µ–ª–æ—Å–∏–ø–æ—Ä—Ç ‚Äî –º—è–≥–∫–æ —Å—Ç–∏–º—É–ª–∏—Ä—É—é—Ç –≤—ã—Ä–∞–±–æ—Ç–∫—É —ç–Ω–¥–æ—Ä—Ñ–∏–Ω–æ–≤, "
            "–≤–æ–∑–≤—Ä–∞—â–∞—è —Ç–µ–ª—É –æ—â—É—â–µ–Ω–∏–µ –ª—ë–≥–∫–æ—Å—Ç–∏ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤—ã–≤–æ–¥—è –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è ‚Äî "
            "–±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è, –≤ –≤–∞—à–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç–µ–º–ø–µ."
        )
    },
    "surprise": {
        "sport": "–ü–∞—Ä–∫—É—Ä, —Ñ—Ä–∏—Å–±–∏, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–Ω—Ü—ã",
        "reason": (
            "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –≥–æ–≤–æ—Ä–∏—Ç –æ **–≤—ã—Å–æ–∫–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏, –≥–∏–±–∫–æ—Å—Ç–∏ –º—ã—à–ª–µ–Ω–∏—è –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**, "
            "–∏–Ω–æ–≥–¥–∞ —Å –ø—Ä–∏–º–µ—Å—å—é –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç–∏ ('—É–¥–∏–≤–ª–µ–Ω–∏–µ + –≥–Ω–µ–≤') –∏–ª–∏ –ª–µ–≥–∫–æ–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç–∏ ('—É–¥–∏–≤–ª–µ–Ω–∏–µ + —Ä–∞–¥–æ—Å—Ç—å'). "
            "–í –ø–æ—á–µ—Ä–∫–µ —ç—Ç–æ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ **–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π, –Ω–æ –Ω–µ —Ö–∞–æ—Ç–∏—á–Ω–æ–π –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–µ**: "
            "–∏–∑–º–µ–Ω—á–∏–≤–æ—Å—Ç—å —Ñ–æ—Ä–º, —Å–∫–∞—á—É—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –∏–∑–ª–æ–º—ã ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è. "
            "–í—ã ‚Äî —á–µ–ª–æ–≤–µ–∫, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ **–Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç—å ‚Äî –Ω–µ —É–≥—Ä–æ–∑–∞, –∞ –≤—ã–∑–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å**. "
            "–ü–∞—Ä–∫—É—Ä –∏ —Ñ—Ä–∏—Å–±–∏ —Ä–∞–∑–≤–∏–≤–∞—é—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –ª–æ–≤–∫–æ—Å—Ç—å, –∞ **—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –≤ –ø–æ—Ç–æ–∫–µ**, "
            "–ø—Ä–µ–≤—Ä–∞—â–∞—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏ —Ö–∞–æ—Å ‚Äî –≤ –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—é."
        )
    },
    "neutral": {
        "sport": "–ì–æ–ª—å—Ñ, —à–∞—Ö–º–∞—Ç—ã, –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π —Ç–µ–Ω–Ω–∏—Å, –¥–∑—é–¥–æ",
        "reason": (
            "–í–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî **–≥–ª—É–±–æ–∫–∞—è –≥–∞—Ä–º–æ–Ω–∏—è –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**. "
            "–ú–∞–∫—Ä–æ- –∏ –º–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–ª–∞–≥–æ–ø–æ–ª—É—á–Ω—ã: —á—ë—Ç–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –ø–ª–∞–≤–Ω—ã–µ –ª–∏–Ω–∏–∏, —É–º–µ—Ä–µ–Ω–Ω—ã–π –Ω–∞–∂–∏–º ‚Äî "
            "–≤—Å—ë –≥–æ–≤–æ—Ä–∏—Ç –æ **—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏** —Å —Ä–∞–∑–≤–∏—Ç—ã–º —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∏ –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–≤–Ω–µ–º —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü–∏–∏. "
            "–ò–Ω–æ–≥–¥–∞ '–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç—å' –º–æ–∂–µ—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å –ª—ë–≥–∫—É—é —Ç—Ä–µ–≤–æ–≥—É –∏–ª–∏ —É—Å—Ç–∞–ª–æ—Å—Ç—å, "
            "–Ω–æ –≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ **–∑—Ä–µ–ª–æ–π, —É—Ä–∞–≤–Ω–æ–≤–µ—à–µ–Ω–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç–∏**, "
            "–≥–¥–µ –¥–≤–∏–∂–µ–Ω–∏–µ, —Ñ–æ—Ä–º–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–∏. "
            "–ì–æ–ª—å—Ñ, —à–∞—Ö–º–∞—Ç—ã –∏ –¥–∑—é–¥–æ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã, –∞ **–ø—Ä–∞–∫—Ç–∏–∫–∏ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏**, "
            "–≥–¥–µ –∫–∞–∂–¥—ã–π –∂–µ—Å—Ç ‚Äî –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞. –û–Ω–∏ –Ω–µ –º–µ–Ω—è—é—Ç –≤–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî –æ–Ω–∏ **—Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏ —É–≥–ª—É–±–ª—è—é—Ç** –µ–≥–æ."
        )
    }
}

# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
@app.route('/')
def home():
    return render_template('SignSport-1.0.html')

# –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—å—é
@app.route('/analyze-page')
def analyze_page():
    return render_template('neural_network.html')

# API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ JavaScript)
@app.route('/api/analyze', methods=['POST'])
def api_analyze():
    data = request.get_json()
    report_text = data.get('text', '').strip()

    if not report_text:
        return jsonify({"error": "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –æ—Ç—á—ë—Ç–∞"}), 400

    try:
        result = classifier(report_text)[0]
        emotion = result['label'].lower()
        confidence = round(result['score'], 3)
        rec = SPORT_RECOMMENDATIONS.get(emotion, SPORT_RECOMMENDATIONS["neutral"])

        return jsonify({
            "success": True,
            "emotion": emotion,
            "confidence": confidence,
            "sport": rec["sport"],
            "reason": rec["reason"]
        })
    except Exception as e:
        return jsonify({"error": str(e)}), 500

if __name__ == '__main__':
    print("üöÄ –°–∞–π—Ç –∑–∞–ø—É—â–µ–Ω: http://localhost:5000")
    app.run(debug=True, host='0.0.0.0', port=5000)